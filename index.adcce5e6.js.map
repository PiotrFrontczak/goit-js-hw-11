{"mappings":"AAAAA,SAASC,iBAAiB,oBAAoB,WAC1C,IAIIC,EAJEC,EAAOH,SAASI,eAAe,eAC/BC,EAAUL,SAASM,cAAc,YACjCC,EAAcP,SAASM,cAAc,cACvCE,EAAO,EAeX,SAASC,EAAaC,GAClB,IAEMC,EAAS,gCAA4CC,OAF5C,qCAEuC,OAAiFA,OAA5EF,EAAY,kEAAqEE,OAALJ,EAAK,gBAE5IK,MAAMC,IAAIH,GACLI,MAAK,SAAAC,GACF,IAAMC,EAAOD,EAASC,KAEG,IAArBA,EAAKC,KAAKC,QAMdF,EAAKC,KAAKE,SAAQ,SAAAC,GACd,IAAMC,EAwBtB,SAAyBD,GACrB,IAAMC,EAAYtB,SAASuB,cAAc,OACzCD,EAAUE,UAAUC,IAAI,cAExB,IAAMC,EAAO1B,SAASuB,cAAc,KACpCG,EAAKC,KAAON,EAAMO,cAElB,IAAMC,EAAM7B,SAASuB,cAAc,OACnCM,EAAIC,IAAMT,EAAMU,aAChBF,EAAIG,IAAMX,EAAMY,KAChBJ,EAAIK,QAAU,OAEd,IAAMC,EAAOnC,SAASuB,cAAc,OACpCY,EAAKX,UAAUC,IAAI,QAEnB,IAAMW,EAAQpC,SAASuB,cAAc,KACrCa,EAAMZ,UAAUC,IAAI,aACpBW,EAAMC,UAAY,iBAA6BzB,OAAZS,EAAMe,OAEzC,IAAME,EAAQtC,SAASuB,cAAc,KACrCe,EAAMd,UAAUC,IAAI,aACpBa,EAAMD,UAAY,iBAA6BzB,OAAZS,EAAMiB,OAEzC,IAAMC,EAAWvC,SAASuB,cAAc,KACxCgB,EAASf,UAAUC,IAAI,aACvBc,EAASF,UAAY,oBAAmCzB,OAAfS,EAAMkB,UAE/C,IAAMC,EAAYxC,SAASuB,cAAc,KAazC,OAZAiB,EAAUhB,UAAUC,IAAI,aACxBe,EAAUH,UAAY,qBAAqCzB,OAAhBS,EAAMmB,WAEjDL,EAAKM,YAAYL,GACjBD,EAAKM,YAAYH,GACjBH,EAAKM,YAAYF,GACjBJ,EAAKM,YAAYD,GAEjBd,EAAKe,YAAYZ,GACjBP,EAAUmB,YAAYf,GACtBJ,EAAUmB,YAAYN,GAEfb,C,CAhEuBoB,CAAgBrB,GACjChB,EAAOoC,YAAYnB,E,IAIpBL,EAAK0B,UAAYtC,EAAQuC,SAASzB,OAClCZ,EAAYsC,MAAMC,QAAU,QAGzBvC,EAASsC,MAAMC,QAAU,OAI5B5C,EACAA,EAAS6C,UAET7C,EAAW,IAAI8C,eAAe,aAAc,KArBzCC,SAAMC,OAAOC,QAAQ,2E,IAwB/BC,OAAM,SAAAC,GACHC,QAAQD,MAAM,gDAAiDA,E,IAhDzElD,EAAGF,iBAAiB,UAAU,SAAUsD,GACtCA,EAAMC,iBAEL,IAAK9C,EAAcP,EAAKO,YAAY+C,MAAMC,OACvB,KAAhBhD,IAGFL,EAAMgC,UAAY,GAEpB5B,EAAaC,G,IAuFhBH,EAAWN,iBAAiB,SAAS,WAClCO,IAEAC,EADoBN,EAAKO,YAAY+C,MAAMC,O","sources":["src/index.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n    const form = document.getElementById('search-form');\n    const gallery = document.querySelector('.gallery');\n    const loadMoreBtn = document.querySelector('.load-more');\n    let page = 1; // początkowa wartość strony\n    let lightbox; // zmienna przechowująca instancję SimpleLightbox\n\n    form.addEventListener('submit', function (event) {\n        event.preventDefault(); // Zapobiegamy domyślnej akcji formularza\n\n        const searchQuery = form.searchQuery.value.trim(); // Pobieramy wartość z pola wyszukiwania\n        if (searchQuery === '') return; // Sprawdzamy, czy pole wyszukiwania nie jest puste\n\n        // Resetujemy galerię przy każdym nowym wyszukiwaniu\n        gallery.innerHTML = '';\n\n        searchImages(searchQuery); // Wywołujemy funkcję wyszukiwania obrazków\n    });\n\n    function searchImages(searchQuery) {\n        const apiKey = '43689937-ac603d3a8790355bd35895aa3'; // Twój unikalny klucz dostępu do API Pixabay\n\n        const apiUrl = `https://pixabay.com/api/?key=${apiKey}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=40`;\n\n        axios.get(apiUrl)\n            .then(response => {\n                const data = response.data;\n\n                if (data.hits.length === 0) {\n                    // Wyświetlamy powiadomienie, jeśli nie znaleziono obrazków\n                    Notiflix.Notify.Failure(\"Sorry, there are no images matching your search query. Please try again.\");\n                    return;\n                }\n\n                data.hits.forEach(image => {\n                    const photoCard = createPhotoCard(image); // Tworzymy kartę obrazka\n                    gallery.appendChild(photoCard); // Dodajemy kartę do galerii\n                });\n\n                // Wyświetlamy przycisk \"Load more\" jeśli jest więcej wyników\n                if (data.totalHits > gallery.children.length) {\n                    loadMoreBtn.style.display = 'block';\n                } else {\n                    // Ukrywamy przycisk jeśli nie ma więcej wyników\n                    loadMoreBtn.style.display = 'none';\n                }\n\n                // Inicjalizacja lub odświeżenie SimpleLightbox po dodaniu nowych obrazków\n                if (lightbox) {\n                    lightbox.refresh();\n                } else {\n                    lightbox = new SimpleLightbox('.gallery a', {});\n                }\n            })\n            .catch(error => {\n                console.error('There was a problem with the fetch operation:', error);\n            });\n    }\n\n    function createPhotoCard(image) {\n        const photoCard = document.createElement('div');\n        photoCard.classList.add('photo-card');\n\n        const link = document.createElement('a');\n        link.href = image.largeImageURL;\n\n        const img = document.createElement('img');\n        img.src = image.webformatURL;\n        img.alt = image.tags;\n        img.loading = 'lazy';\n\n        const info = document.createElement('div');\n        info.classList.add('info');\n\n        const likes = document.createElement('p');\n        likes.classList.add('info-item');\n        likes.innerHTML = `<b>Likes:</b> ${image.likes}`;\n\n        const views = document.createElement('p');\n        views.classList.add('info-item');\n        views.innerHTML = `<b>Views:</b> ${image.views}`;\n\n        const comments = document.createElement('p');\n        comments.classList.add('info-item');\n        comments.innerHTML = `<b>Comments:</b> ${image.comments}`;\n\n        const downloads = document.createElement('p');\n        downloads.classList.add('info-item');\n        downloads.innerHTML = `<b>Downloads:</b> ${image.downloads}`;\n\n        info.appendChild(likes);\n        info.appendChild(views);\n        info.appendChild(comments);\n        info.appendChild(downloads);\n\n        link.appendChild(img);\n        photoCard.appendChild(link);\n        photoCard.appendChild(info);\n\n        return photoCard;\n    }\n\n    // Obsługa przycisku \"Load more\"\n    loadMoreBtn.addEventListener('click', function () {\n        page++; // Zwiększamy numer strony\n        const searchQuery = form.searchQuery.value.trim(); // Pobieramy aktualny termin wyszukiwania\n        searchImages(searchQuery); // Wywołujemy ponownie funkcję wyszukiwania obrazków\n    });\n});\n"],"names":["document","addEventListener","lightbox","form","getElementById","gallery","querySelector","loadMoreBtn","page","searchImages","searchQuery","apiUrl","concat","axios","get","then","response","data","hits","length","forEach","image","photoCard","createElement","classList","add","link","href","largeImageURL","img","src","webformatURL","alt","tags","loading","info","likes","innerHTML","views","comments","downloads","appendChild","createPhotoCard","totalHits","children","style","display","refresh","SimpleLightbox","Notiflix","Notify","Failure","catch","error","console","event","preventDefault","value","trim"],"version":3,"file":"index.adcce5e6.js.map"}